<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Luvit documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Luvit</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Debugging">Debugging</a></li>
</ul>


<h2>Topics</h2>
<ul>
  <li><strong>README.markdown</strong></li>
  <li><a href="../topics/api.markdown.html">api.markdown</a></li>
  <li><a href="../topics/docs.markdown.html">docs.markdown</a></li>
  <li><a href="../topics/errors.markdown.html">errors.markdown</a></li>
</ul>
<h2>Modules</h2>
<ul>
  <li><a href="../modules/luvit.buffer.html">luvit.buffer</a></li>
  <li><a href="../modules/luvit.http.html">luvit.http</a></li>
  <li><a href="../modules/luvit.querystring.html">luvit.querystring</a></li>
  <li><a href="../modules/luvit.url.html">luvit.url</a></li>
</ul>
<h2>Examples</h2>
<ul>
  <li><a href="../examples/buffer-basics.lua.html">buffer-basics.lua</a></li>
  <li><a href="../examples/http-client.lua.html">http-client.lua</a></li>
  <li><a href="../examples/http-server.lua.html">http-server.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Topic <code>README.markdown</code></h1>


<h1>Luvit (Lua + libUV + jIT = pure awesomesauce)</h1>

<p><a href="http://travis-ci.org/luvit/luvit"><img src="https://secure.travis-ci.org/luvit/luvit.png" alt="Build Status"/></a></p>

<p>Luvit is an attempt to do something crazy by taking node.js' awesome
architecture and dependencies and seeing how it fits in the Lua language.</p>

<p>This project is still under heavy development, but it's showing promise. In
initial benchmarking with a hello world server, this is between 2 and 4 times
faster than node.js. Version 0.5.0 is the latest release version.</p>

<p>Do you have a question/want to learn more? Make sure to check out the <a href="http://groups.google.com/group/luvit/">mailing
list</a> and drop by our IRC channel, #luvit
on Freenode.</p>

<p>```lua
-- Load the http library
local HTTP = require("http")</p>

<p>-- Create a simple nodeJS style hello-world server
HTTP.createServer(function (req, res)
  local body = "Hello World\n"
  res:writeHead(200, {</p>

<pre>
 [<span class="string">"Content-Type"</span>] = <span class="string">"text/plain"</span>,
</pre>

<p>  })
  res:finish(body)
end):listen(8080)</p>

<p>-- Give a friendly message
print("Server listening at http://localhost:8080/")
```</p>

<h3>Building from git</h3>

<p>Grab a copy of the source code:</p>

<p><code>git clone https://github.com/luvit/luvit.git --recursive</code></p>

<p>To use the gyp build system run:</p>

<p>```
cd luvit
./configure
make -C out
tools/build.py test
./out/Debug/luvit
```</p>

<p>To use the Makefile build system (for embedded systems without python)
run:</p>

<p>```
cd luvit
make
make test
./build/luvit
```</p>

<p><a name="Debugging"></a></p>
<h2>Debugging</h2>

<p>Luvit contains an extremely useful debug API. Lua contains a stack which is used
to manipulate the virtual machine and return values to 'C'. It is often very
useful to display this stack to aid in debugging. In fact, this API is
accessible via C or from Lua.</p>

<h3>Stackwalk</h3>

<p>```lua
require('_debug').stackwalk(errorString)
```</p>

<p>Displays a backtrace of the current Lua state. Useful when an error happens and
you want to get a call stack.</p>

<p>example output:</p>

<p>```text
Lua stack backtrace: error</p>

<pre>
 <span class="keyword">in</span> Lua code at luvit/tests/test-crypto.lua:<span class="number">69</span> fn()
 <span class="keyword">in</span> Lua code at luvit/lib/luvit/<span class="global">module</span>.lua:<span class="number">67</span> myloadfile()
 <span class="keyword">in</span> Lua code at luvit/lib/luvit/luvit.lua:<span class="number">285</span> (null)()
 <span class="keyword">in</span> native code
 <span class="keyword">in</span> Lua code at luvit/lib/luvit/luvit.lua:<span class="number">185</span> (null)()
 <span class="keyword">in</span> native code
</pre>

<p>```</p>

<h3>Stackdump</h3>

<p>```lua
require('_debug').stackdump(string)
```</p>

<p>```c
luv<em>lua</em>debug_stackdump(L, "a message");
```</p>

<p>Stackdump is extremly useful from within C modules.</p>

<h3>Debugger</h3>

<p>```lua
require('_debug').debugger()
```</p>

<p>Supports the following commands:</p>

<ul>
    <li>quit</li>
    <li>exit</li>
    <li>break</li>
    <li>clear</li>
    <li>clearall</li>
    <li>trace</li>
    <li>bt</li>
</ul>

<p>The debugger will execute any arbitrary Lua statement by default.</p>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
